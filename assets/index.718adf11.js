var ee=Object.defineProperty,te=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var H=(t,r,i)=>r in t?ee(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,L=(t,r)=>{for(var i in r||(r={}))M.call(r,i)&&H(t,i,r[i]);if(y)for(var i of y(r))z.call(r,i)&&H(t,i,r[i]);return t},O=(t,r)=>te(t,re(r));var U=(t,r)=>{var i={};for(var o in t)M.call(t,o)&&r.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&y)for(var o of y(t))r.indexOf(o)<0&&z.call(t,o)&&(i[o]=t[o]);return i};import{u as oe,j as e,B as v,e as ie,a as l,F as G,b as ne,T as b,r as u,H as se,c as ae,d as le,I as ce,S as j,f as R,C as W,g as q,L as de,h as ue,i as he,k as fe,V as K,l as ge,m as pe,R as be,n as V,o as me,p as Se,q as ve}from"./vendor.0eb934dd.js";const xe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}};xe();var we="/assets/header_logo.1094da8d.png";const ye={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},Ee=n=>{var a=n,{variant:t,children:r,borderColor:i}=a,o=U(a,["variant","children","borderColor"]);const c=oe("Card",{variant:t});return e(v,O(L({className:"cs-card",__css:c,borderColor:i},o),{children:r}))},Ce={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},Le={baseStyle:{bg:"white"}};var Re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:Ce,Input:Le});const De={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},E=ie({colors:De,components:L({Card:ye},Re)});function Y(t){const{color:r=E.colors.brand.blue,size:i=["50%","50%"],globSizes:o=[[40,80],[60,50],[20,80]],globPositions:n=[[20,10],[10,20],[20,15]],top:a,left:c,right:g,bottom:m,opacity:x=1,speed:d,radius:s,rotate:h}=t;return l(G,{children:[l("div",{className:"blob",style:{top:a,left:c,right:g,bottom:m,width:i[0],height:i[1],opacity:x,transform:h?`rotate(${h}deg)`:void 0},children:[e("div",{className:"glob",style:{backgroundColor:r,width:o[0][0]+"%",height:o[0][1]+"%",top:n[0][0]+"%",left:n[0][1]+"%",animation:d?`move ${d*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:s}}),e("div",{className:"glob1",style:{backgroundColor:r,width:o[1][0]+"%",height:o[1][1]+"%",top:n[1][0]+"%",left:n[1][1]+"%",animation:d?`move ${d*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:s}}),e("div",{className:"glob2",style:{backgroundColor:r,width:o[2][0]+"%",height:o[2][1]+"%",top:n[2][0]+"%",left:n[2][1]+"%",animation:d?`move ${d*800}ms infinite alternate ease-in-out`:void 0,borderRadius:s}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:l("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]})}const Te="80px",Ie=({children:t})=>l(G,{children:[l(v,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e(Y,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:E.colors.brand.green}),e(Y,{size:["600px","600px"],left:"-50px",top:"-20px",color:E.colors.brand.green})]}),l(v,{className:"cs-header",position:"fixed",top:"0",right:"0",left:"0",width:"100vw",height:Te,children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:we,alt:"CharacterStrong Logo"})}),t]})]});function Pe(t){const{districts:r}=t,i=ne();return e(v,{width:"100%",borderWidth:1,borderRadius:"xl",overflow:"hidden",children:r.map(o=>e(v,{borderBottomWidth:1,p:4,_last:{borderBottomWidth:0},_hover:{backgroundColor:"blackAlpha.50",cursor:"pointer"},onClick:()=>i(`/districts/${o.LEAID}`),children:e(b,{children:o.NAME})}))})}function D(t,r={}){const{method:i="get",lazy:o=i!="get",debounce:n}=r,[a,c]=u.exports.useState(null),[g,m]=u.exports.useState(null),[x,d]=u.exports.useState(!o),s=u.exports.useRef(null),h=u.exports.useCallback(async()=>{const w=async()=>{var S;c(null),d(!0);const f=await fetch(t);d(!1),f.ok?((S=f.headers.get("Content-Type"))==null?void 0:S.includes("application/json"))?m(await f.json()):console.error("Unable to handle non-JSON response",f):c(f)};typeof n=="number"?(s.current!==null&&clearTimeout(s.current),s.current=window.setTimeout(w,n)):w()},[t,i]);return u.exports.useEffect(()=>{if(!o)return h(),()=>{s.current!==null&&clearTimeout(s.current)}},[h,o]),{loading:x,data:g,error:a,dispatch:h}}function _e(t){const r=`UPPER(NAME) LIKE UPPER('%${t}%')`;return`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=${encodeURIComponent(r)}&outFields=*&outSR=4326&f=json`}function Ne(t){const r=`LEAID = '${t}'`;return`https://nces.ed.gov/opengis/rest/services/School_District_Boundaries/EDGE_ADMINDATA_SCHOOLDISTRICTS_SY1920/MapServer/0/query?where=${encodeURIComponent(r)}&outFields=*&outSR=4326&f=json`}function Ae(t,r,{searchPrivate:i=!1}){let o=`UPPER(NAME) LIKE UPPER('%${t}%')`;return r!=null&&(o+=` AND LEAID = '${r}'`),`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/${i?"Private_School_Locations_Current":"Public_School_Location_201819"}/FeatureServer/0/query?where=${encodeURIComponent(o)}&outFields=*&outSR=4326&f=json`}function Fe(){const[t,r]=u.exports.useState("Peninsula School District"),{loading:i,error:o,data:n}=D(_e(t),{debounce:300}),a=n?n.features.map(c=>c.attributes).filter(Boolean):[];return l(Ee,{variant:"rounded",borderColor:"blue",width:"xl",children:[e(se,{children:"School Data Finder"}),l(ae,{children:[e(le,{id:"DistrictName",children:"District name"}),e(ce,{value:t,onChange:c=>r(c.target.value)})]}),i?e(j,{}):e(Pe,{districts:a})]})}function ke(){return e(R,{initialScale:.9,in:!0,children:e(Fe,{})})}function $e(t){const{breadcrumb:r,title:i,loading:o,children:n}=t;return e(R,{initialScale:.9,in:!0,children:l(W,{width:"4xl",maxWidth:"100%",backgroundColor:"whiteAlpha.800",p:10,borderRadius:"xl",boxShadow:"xl",backdropFilter:"blur(20px) saturate(180%)",children:[o&&e(q,{children:e(j,{})}),l(R,{initialScale:.9,in:!o,children:[r&&l(b,{as:de,to:r.to,display:"flex",align:"center",children:[e(ue,{fontSize:"1.5em",marginLeft:"-6px"}),r.content]}),e(b,{fontSize:"3xl",fontWeight:"bold",marginBottom:6,children:i}),n]})]})})}function p(t){return l(he,{borderWidth:1,borderRadius:"xl",minWidth:"90px",p:4,align:"center",backgroundColor:"white",flexGrow:1,children:[e(b,{fontWeight:"medium",fontSize:22,children:t.value}),e(b,{textTransform:"uppercase",fontSize:10,fontWeight:"bold",children:t.label}),t.afterValue]})}function Be(){var f,S,T,I,P,_,N,A,F,k,$;const{districtId:t}=fe();if(!t)throw new Error("Missing districtId param from URL");const[r,i]=u.exports.useState(""),[o,n]=u.exports.useState(!1),{loading:a,error:c,data:g}=D(Ne(t)),{loading:m,error:x,data:d}=D(Ae(r,t,{searchPrivate:o})),s=(f=g==null?void 0:g.features)==null?void 0:f[0],h=!a&&!s;return console.log((S=s==null?void 0:s.attributes)==null?void 0:S.SCH),l($e,{loading:a||m,breadcrumb:{content:"Home",to:"/"},title:(T=s==null?void 0:s.attributes)==null?void 0:T.LEA_NAME,children:[h&&l(b,{children:["Couldn't"," find a district with ID ",t]}),s&&l(K,{spacing:6,children:[l(ge,{spacing:6,justify:"stretch",width:"100%",children:[e(p,{label:"Grades",value:`${(I=s.attributes)==null?void 0:I.GSLO}-${(P=s.attributes)==null?void 0:P.GSHI}`}),e(p,{label:"Schools",value:(_=s.attributes)==null?void 0:_.SCH}),e(p,{label:"Teachers",value:Math.floor(((N=s.attributes)==null?void 0:N.TOTTCH)||0).toLocaleString()}),e(p,{label:"Students",value:Math.floor(((A=s.attributes)==null?void 0:A.MEMBER)||0).toLocaleString()}),e(p,{label:"Students per Teacher",value:(k=(F=s.attributes)==null?void 0:F.STUTERATIO)==null?void 0:k.toLocaleString()})]}),l(K,{spacing:6,alignItems:"stretch",children:[e(p,{label:"Phone",value:($=s.attributes)==null?void 0:$.PHONE}),e(p,{label:"Address",value:w()})]})]})]});function w(){if(!(s==null?void 0:s.attributes))return"";const{LSTREET1:J,LSTREET2:B,LCITY:Z,LSTATE:Q,LZIP:X}=s.attributes;let C=J;return B&&(C+=` ${B}`),C+=` ${Z} ${Q} ${X}`,C}}function Me(){return l("div",{className:"App",children:[e(Ie,{}),e(W,{width:"4xl",maxWidth:"100%",zIndex:1,children:e(q,{width:"4xl",height:"90vh",maxWidth:"100%",children:e(pe,{children:l(be,{children:[e(V,{path:"/",element:e(ke,{})}),e(V,{path:"/districts/:districtId",element:e(Be,{})})]})})})})]})}me.render(e(Se.StrictMode,{children:e(ve,{theme:E,children:e(Me,{})})}),document.getElementById("root"));
